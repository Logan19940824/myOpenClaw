# Video Clipper Skill

è‡ªåŠ¨å‰ªè¾‘è§†é¢‘ï¼Œæ”¯æŒè£å‰ªã€åˆå¹¶ã€æ·»åŠ å­—å¹•ã€èƒŒæ™¯éŸ³ä¹ï¼Œç”Ÿæˆå¯ç›´æ¥å‘å¸ƒçš„çŸ­è§†é¢‘ã€‚

## âœ¨ åŠŸèƒ½ç‰¹ç‚¹

- âœ‚ï¸ **è§†é¢‘è£å‰ª** - ç²¾ç¡®è£å‰ªè§†é¢‘ç‰‡æ®µ [start, end]
- ğŸ”— **è§†é¢‘åˆå¹¶** - å¤šä¸ªç‰‡æ®µåˆå¹¶æˆä¸€ä¸ªå®Œæ•´è§†é¢‘
- ğŸ“ **æ·»åŠ å­—å¹•** - è‡ªåŠ¨æ·»åŠ å­—å¹•æ–‡æœ¬
- ğŸµ **èƒŒæ™¯éŸ³ä¹** - æ·»åŠ èƒŒæ™¯éŸ³ä¹ï¼Œæ”¯æŒéŸ³é‡è°ƒèŠ‚
- ğŸ“ **å°ºå¯¸è°ƒæ•´** - é€‚é…å„ç§å¹³å°ï¼ˆæŠ–éŸ³ã€å°çº¢ä¹¦ã€Bç«™ï¼‰
- âš¡ **å¿«é€Ÿå¯¼å‡º** - å¤šç§æ ¼å¼å’Œåˆ†è¾¨ç‡

## ğŸ“¦ å®‰è£…ä¾èµ–

```bash
pip install moviepy

# è¿˜éœ€è¦å®‰è£…ï¼š
# 1. FFmpeg: https://ffmpeg.org/download.html
# 2. ImageMagick: https://imagemagick.org/script/download.php
```

**æ³¨æ„**ï¼šWindows ç”¨æˆ·éœ€è¦é…ç½® ImageMagick è·¯å¾„ï¼š
```python
import moviepy.config
moviepy.config.IMAGEMAGICK_BINARY = r"C:\Program Files\ImageMagick\magick.exe"
```

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### 1. å‘½ä»¤è¡Œä½¿ç”¨

```bash
# åŸºæœ¬ç”¨æ³• - åˆå¹¶è§†é¢‘
echo '{"inputs": ["clip1.mp4", "clip2.mp4"], "output": "final.mp4"}' | python3 index.py

# è£å‰ªè§†é¢‘
echo '{"inputs": ["video.mp4"], "output": "clip.mp4", "clips": [[0, 30]]}' | python3 index.py

# æ·»åŠ å­—å¹•
echo '{"inputs": ["video.mp4"], "output": "with-subtitle.mp4", "subtitle": "æ¬¢è¿è§‚çœ‹"}' | python3 index.py

# æ·»åŠ èƒŒæ™¯éŸ³ä¹
echo '{"inputs": ["video.mp4"], "output": "with-music.mp4", "music": "bgm.mp3", "volume_music": 0.5}' | python3 index.py

# å®Œæ•´æµç¨‹ï¼šè£å‰ª + å­—å¹• + éŸ³ä¹
echo '{
  "inputs": ["video.mp4"],
  "output": "final.mp4",
  "clips": [[0, 60]],
  "subtitle": "è¿™æ˜¯ä¸€ä¸ªç²¾å½©ç‰‡æ®µ",
  "music": "bgm.mp3",
  "aspect_ratio": "9:16",
  "quality": "high"
}' | python3 index.py
```

**è¿”å›ç»“æœï¼š**
```json
{
  "success": true,
  "output_path": "final.mp4",
  "duration": 60.5,
  "resolution": "1080x1920",
  "error": null
}
```

### 2. åœ¨ OpenClaw ä¸­ä½¿ç”¨

Agent ä¼šè‡ªåŠ¨è¯»å– `SKILL.md`ï¼Œä½ åªéœ€ç”¨è‡ªç„¶è¯­è¨€æè¿°ï¼š

```
ç”¨æˆ·: "å¸®æˆ‘æŠŠ clip1.mp4 å’Œ clip2.mp4 åˆå¹¶æˆä¸€ä¸ªè§†é¢‘"
      â†“
Agent: è§£ææ„å›¾ï¼Œè°ƒç”¨ MCP skill
      â†“
MCP: æ‰§è¡Œ merge_videos()
      â†“
è¾“å‡º: {"success": true, "output_path": "final.mp4"}
```

## ğŸ“ å®½é«˜æ¯”é€‚é…

| æ¯”ä¾‹ | å°ºå¯¸ | å¹³å° | ç”¨é€” |
|------|------|------|------|
| 9:16 | 1080Ã—1920 | TikTok, æŠ–éŸ³, å°çº¢ä¹¦ | ç«–å±çŸ­è§†é¢‘ |
| 16:9 | 1920Ã—1080 | YouTube, Bç«™ | æ¨ªå±è§†é¢‘ |
| 1:1 | 1080Ã—1080 | Instagram | æ­£æ–¹å½¢ |
| 4:5 | 1080Ã—1350 | Instagram | ç«–å±å…¨å± |

## ğŸ¨ è´¨é‡è®¾ç½®

| è´¨é‡ | ç ç‡ | å¸§ç‡ | é€‚ç”¨åœºæ™¯ |
|------|------|------|----------|
| high | 8M | 30fps | é«˜è´¨é‡å‘å¸ƒ |
| medium | 4M | 24fps | æ—¥å¸¸åˆ†äº« |
| low | 2M | 15fps | é¢„è§ˆ/æµ‹è¯• |

## ğŸ“– ä½¿ç”¨åœºæ™¯

### 1. æŠ–éŸ³çŸ­è§†é¢‘
```json
{
  "inputs": ["raw_video.mp4"],
  "output": "douyin.mp4",
  "clips": [[0, 15]],
  "subtitle": "ç²¾å½©ç¬é—´",
  "music": "bgm.mp3",
  "aspect_ratio": "9:16",
  "quality": "high"
}
```

### 2. Bç«™æ¨ªå±è§†é¢‘
```json
{
  "inputs": ["part1.mp4", "part2.mp4", "part3.mp4"],
  "output": "bilibili.mp4",
  "aspect_ratio": "16:9",
  "quality": "high"
}
```

### 3. å°çº¢ä¹¦ç§è‰è§†é¢‘
```json
{
  "inputs": ["product.mp4"],
  "output": "xiaohongshu.mp4",
  "subtitle": "è¿™æ¬¾äº§å“çœŸçš„å¤ªæ£’äº†ï¼",
  "music": "pop-music.mp3",
  "aspect_ratio": "9:16",
  "quality": "high"
}
```

### 4. å¤šç‰‡æ®µæ··å‰ª
```json
{
  "inputs": ["clip1.mp4", "clip2.mp4", "clip3.mp4"],
  "output": "compilation.mp4",
  "clips": [[0, 20], [5, 30], [10, 25]],
  "music": "upbeat.mp3",
  "volume_music": 0.6,
  "aspect_ratio": "9:16"
}
```

## ğŸ› ï¸ æŠ€æœ¯åŸç†

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è¾“å…¥è§†é¢‘åˆ—è¡¨                                                    â”‚
â”‚  [clip1.mp4, clip2.mp4, ...]                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. è£å‰ª (å¯é€‰)                                                  â”‚
â”‚  - æ ¹æ® clips å‚æ•°æˆªå–ç‰‡æ®µ                                       â”‚
â”‚  - clips: [[start, end], ...]                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. å°ºå¯¸è°ƒæ•´                                                     â”‚
â”‚  - å±…ä¸­è£å‰ªåˆ°ç›®æ ‡æ¯”ä¾‹                                            â”‚
â”‚  - 9:16, 16:9, 1:1, 4:5                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. åˆå¹¶ (å¯é€‰)                                                  â”‚
â”‚  - æŒ‰é¡ºåºæ‹¼æ¥å¤šä¸ªç‰‡æ®µ                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4. æ·»åŠ å­—å¹• (å¯é€‰)                                              â”‚
â”‚  - åœ¨è§†é¢‘åº•éƒ¨/é¡¶éƒ¨æ·»åŠ æ–‡å­—                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  5. æ·»åŠ èƒŒæ™¯éŸ³ä¹ (å¯é€‰)                                          â”‚
â”‚  - è°ƒæ•´éŸ³ä¹æ—¶é•¿åŒ¹é…è§†é¢‘                                          â”‚
â”‚  - è°ƒæ•´éŸ³é‡ (é»˜è®¤ 50%)                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è¾“å‡ºè§†é¢‘                                                        â”‚
â”‚  - æ ¼å¼: MP4                                                     â”‚
â”‚  - ç¼–ç : H.264 + AAC                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **ä¾èµ–å®‰è£…** - å¿…é¡»å®‰è£… moviepy, ffmpeg, ImageMagick
2. **æ–‡ä»¶è·¯å¾„** - ä½¿ç”¨ç»å¯¹è·¯å¾„æˆ–ç›¸å¯¹äºå·¥ä½œç›®å½•
3. **æ–‡ä»¶å¤§å°** - å¤„ç†å¤§æ–‡ä»¶éœ€è¦æ›´å¤šå†…å­˜å’Œæ—¶é—´
4. **éŸ³é¢‘æ ¼å¼** - æ”¯æŒ MP3, WAV, AAC ç­‰å¸¸è§æ ¼å¼
5. **å­—å¹•å­—ä½“** - é»˜è®¤ä½¿ç”¨ Microsoft YaHei

## ğŸ› å¸¸è§é—®é¢˜

### Q: moviepy å¯¼å…¥å¤±è´¥ï¼Ÿ
A: ç¡®ä¿å·²å®‰è£… ffmpeg å’Œ ImageMagickï¼Œå¹¶é…ç½®æ­£ç¡®è·¯å¾„ã€‚

### Q: è§†é¢‘å¯¼å‡ºå¾ˆæ…¢ï¼Ÿ
A: é™ä½ quality åˆ° medium æˆ– lowï¼Œæˆ–ä½¿ç”¨æ›´å¿«çš„ç”µè„‘ã€‚

### Q: å­—å¹•ä¸æ˜¾ç¤ºï¼Ÿ
A: æ£€æŸ¥å­—ä½“æ˜¯å¦å®‰è£…ï¼Œä¸­æ–‡éœ€è¦æ”¯æŒä¸­æ–‡çš„å­—ä½“ã€‚

### Q: éŸ³ä¹å’Œè§†é¢‘ä¸åŒæ­¥ï¼Ÿ
A: ç¡®è®¤éŸ³ä¹æ–‡ä»¶æ ¼å¼æ­£ç¡®ï¼Œå°è¯•è°ƒæ•´ volume_musicã€‚

### Q: å¦‚ä½•æŸ¥çœ‹æ”¯æŒçš„å®½é«˜æ¯”ï¼Ÿ
A: å½“å‰æ”¯æŒ: 9:16, 16:9, 1:1, 4:5

## ğŸ“ License

åŸºäº MIT Licenseã€‚
